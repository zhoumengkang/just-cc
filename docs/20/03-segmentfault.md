在编程的过程中，难免会遇到编辑器没有报错提示，编译也无错误，但是运行却提示段错误，这种情况应该如何处理呢？

1. 编译时候使用`-g`，便于后面`gdb`调试
2. 开启`core`文件的生
3. 使用`gdb`调试 `core` 文件
4. 输入 `where` 定位到段错误位置

```bash
$ ulimit -c
0
```
`0`表示生成的`core`文件的大小为 0 字节
```bash
$ ulimit -c unlimited
$ ulimit -a
core file size          (blocks, -c) unlimited
data seg size           (kbytes, -d) unlimited
scheduling priority             (-e) 0
file size               (blocks, -f) unlimited
pending signals                 (-i) 3898
max locked memory       (kbytes, -l) 64
max memory size         (kbytes, -m) unlimited
open files                      (-n) 65535
pipe size            (512 bytes, -p) 8
POSIX message queues     (bytes, -q) 819200
real-time priority              (-r) 0
stack size              (kbytes, -s) 8192
cpu time               (seconds, -t) unlimited
max user processes              (-u) 4096
virtual memory          (kbytes, -v) unlimited
file locks                      (-x) unlimited
```
```bash
$ ./mywget -O zss.jpg https://static.mengkang.net/view/images/zs.jpg
段错误(吐核)
```
```bash
$ gdb mywget core.8178
GNU gdb (GDB) Red Hat Enterprise Linux 7.6.1-114.el7
Copyright (C) 2013 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type "show copying"
and "show warranty" for details.
This GDB was configured as "x86_64-redhat-linux-gnu".
For bug reporting instructions, please see:
<http://www.gnu.org/software/gdb/bugs/>...
Reading symbols from /home/vagrant/wwwroot/mywget/src/mywget...done.
[New LWP 8178]
[Thread debugging using libthread_db enabled]
Using host libthread_db library "/usr/lib64/libthread_db.so.1".
Core was generated by `./mywget -O zss.jpg https://static.mengkang.net/view/images/zs.jpg'.
Program terminated with signal 11, Segmentation fault.
#0  _int_malloc (av=av@entry=0x7f74e906f760 <main_arena>, bytes=bytes@entry=15) at malloc.c:3411
3411		if (__builtin_expect (bck->fd != victim, 0))
Missing separate debuginfos, use: debuginfo-install keyutils-libs-1.5.8-3.el7.x86_64 krb5-libs-1.15.1-34.el7.x86_64 libcom_err-1.42.9-13.el7.x86_64 libselinux-2.5-14.1.el7.x86_64 openssl-libs-1.0.2k-19.el7.x86_64 pcre-8.32-17.el7.x86_64 zlib-1.2.7-18.el7.x86_64
(gdb) where
#0  _int_malloc (av=av@entry=0x7f74e906f760 <main_arena>, bytes=bytes@entry=15) at malloc.c:3411
#1  0x00007f74e8d2dadc in __GI___libc_malloc (bytes=bytes@entry=15) at malloc.c:2905
#2  0x00007f74e8d34aaa in __GI___strdup (s=0x7f74e8e30d54 "/etc/localtime") at strdup.c:42
#3  0x00007f74e8d5e0f1 in tzset_internal (always=<optimized out>, explicit=explicit@entry=1)
    at tzset.c:438
#4  0x00007f74e8d5eab3 in __tz_convert (timer=0x7ffcc4b85fa8, use_localtime=1,
    tp=0x7f74e9074d20 <_tmbuf>) at tzset.c:621
#5  0x0000000000402920 in get_date_time () at util.c:18
#6  0x0000000000401e89 in download_end () at http_download.c:262
#7  0x0000000000401e3a in http_download (sockfd=3, filename=0x7ffcc4b87600 "")
    at http_download.c:252
#8  0x000000000040211e in main (argc=4, argv=0x7ffcc4b86638) at main.c:60
```
